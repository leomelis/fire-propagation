<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
    <script src="http://code.jquery.com/jquery-migrate-1.1.1.min.js"></script>
    <script type="text/javascript" src="raphael-min.js"></script>

    <!-- Fix rendering issue -->
    <style> svg {shape-rendering: crispEdges; } </style>

    <script>
        var paper;

        var horizontal_size = 32;
        var vertical_size = 20;
        var dim = 10;

        var ox = 150;
        var oy = 100;
        var wind_strength = 4

        var paper_width  = horizontal_size*dim;
        var paper_height = vertical_size*dim;

        var colors = {
            "fire":"red",
            "firewall":"black",
            "tree":"yellow",
            "pine":"green"
        }

        function fix_y(y){
            return paper_height - y - dim;
        }

        function create_grid(paper_width, paper_height, dim){
            for(var i=0; i<paper_height+dim; i=i+dim){
                paper.path("M0," + i + "L"+paper_width+"," + i);
            }

            for(var i=0; i<paper_width+dim; i=i+dim){
                paper.path("M"+i+",0L"+i+","+paper_height);
            }
        }

        function create_square(x, y, type){
            x = x*dim;
            y = fix_y(y*dim);

            var c = paper.rect(x, y, dim, dim);
            c.attr("fill", colors[type]);
        }

        function propagate_fire(x, y, v){
            for (i=-v; i<v+1; i++){
                for(j=-v; j<v+1; j++){
                    create_square(x+i, y+j,"fire");
                }
            }
        }

        $(document).ready(function(){
            paper = Raphael(10, 50, paper_width, paper_height);
            propagate_fire(10, 10, wind_strength);
            create_square(10, 10, "firewall");
        });
    </script>
</head>
<body>
</body>
</html>